#
# Copyright 2018, Mokshasoft AB (mokshasoft.com)
#
# This software may be distributed and modified according to the terms of
# the BSD 2-Clause license. Note that NO WARRANTY is provided.
# See "LICENSE_BSD2.txt" for details.
#

# Targets
TARGETS := $(notdir $(SOURCE_DIR)).bin

# Set custom entry point for the rootserver
ENTRY_POINT := _sel4_start

# The app source file is generated by the hello-idris-1.c target
CFILES += hello-idris-1.c

# Libraries needed by the app
LIBS = \
    c \
    sel4 sel4muslcsys \
    sel4platsupport \
    platsupport \
    sel4vspace \
    sel4-idris-rts \
    idris-libsel4-ffi \
    utils \
    sel4utils \
    sel4debug

# Custom CFLAGS
CFLAGS += -g
CFLAGS += -Werror

include $(SEL4_COMMON)/common.mk

